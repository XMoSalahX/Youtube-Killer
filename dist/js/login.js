function statusChangeCallback(e){"connected"===e.status?console.log("You loged in using facebook account"):console.log("Not authanticated")}function checkLoginState(){FB.getLoginStatus(function(e){statusChangeCallback(e)})}window.fbAsyncInit=function(){FB.init({appId:"872961233386346",cookie:!0,xfbml:!0,version:"v12.0"}),FB.getLoginStatus(function(e){statusChangeCallback(e)})},function(e,t,a){var o=e.getElementsByTagName(t)[0];e.getElementById(a)||((t=e.createElement(t)).id=a,t.src="https://connect.facebook.net/en_US/sdk.js",o.parentNode.insertBefore(t,o))}(document,"script","facebook-jssdk");{var submit=document.getElementById("submit"),email=document.querySelector("input[type='email']"),password=document.querySelector("input[type='password']"),checkBox=document.querySelector("input[type='checkbox']"),fbLogin=document.querySelector(".fa-facebook-f"),allert=document.querySelector(".allert"),alertEmail=document.querySelector(".email"),alertpass=document.querySelector(".password");let t=!1,a=!1;function validateEmail(e){return!!e.match(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/)}function passwordCheck(e,t){e.addEventListener("input",function(){return""==e.value?(t.innerHTML="Password is empty",!(t.style.color="red")):void(e.value.match(/^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[^\w\s]).{8,}$/)?(t.innerHTML="Great!",t.style.color="#2ad4bc",a=!0):(t.innerHTML="Minimum eight characters, at least one uppercase letter, one lowercase letter, one number and one special character.",t.style.color="red"))})}email.addEventListener("input",function(){0==validateEmail(this.value)?(alertEmail.innerHTML="Invalid Email",alertEmail.style.color="red"):(alertEmail.innerHTML="Great!",alertEmail.style.color="#2ad4bc",t=!0)}),passwordCheck(password,alertpass),getDataFromLocalStorage();var dataL={};let o=[];function addUserDataToArray(e,t){t={email:e,password:t};o.push(t)}function addDataToLocalStorage(e){window.localStorage.setItem("User Data",JSON.stringify(e))}function getDataFromLocalStorage(){var e=window.localStorage.getItem("User Data");e&&(e=JSON.parse(e),console.log(e),email.value=e[e.length-1].email,password.value=e[e.length-1].password)}function onSignIn(e){var t=e.getBasicProfile();console.log("ID: "+t.getId()),console.log("Full Name: "+t.getName()),console.log("Given Name: "+t.getGivenName()),console.log("Family Name: "+t.getFamilyName()),console.log("Image URL: "+t.getImageUrl()),console.log("Email: "+t.getEmail());e=e.getAuthResponse().id_token;console.log("ID Token: "+e),dataL.email=t.getEmail(),dataL.password=e.substring(0,25),console.log(dataL),fetch("#",{method:"POST",body:JSON.stringify(dataL),headers:{"Content-type":"application/json; charset=UTF-8"}}).then(e=>e.json()).then(e=>console.log(e))}submit.addEventListener("click",function(e){e.preventDefault(),!0===t&&!0===a&&(dataL.email=email.value,dataL.password=password.value,console.log(dataL),""!=email.value&&checkBox.checked&&""!=password&&(addUserDataToArray(dataL.email,dataL.password),addDataToLocalStorage(o),console.log(o),console.log(JSON.stringify(o))),fetch("https://localhost:44349/api/Account/GetAccess",{method:"POST",body:JSON.stringify(dataL),headers:{"Content-type":"application/json; charset=UTF-8"}}).then(e=>e.json()).then(function(t){if(console.log(t),0==t.hasError){allert.style.display="block",allert.style.backgroundColor="#d1e7dd",console.log(t.data.token),window.sessionStorage.setItem("Access token",JSON.stringify(t.data.token)),window.sessionStorage.setItem("Username",JSON.stringify(t.data.userName));let e=5;setInterval(()=>{allert.innerHTML="<b>Congrats</b>, and We will now direct you to the home page during "+e,e--},1e3),setTimeout(()=>{window.location="home-page.html"},6e3)}else allert.innerHTML="<b>Error, </b>Please review the input fields.",allert.style.display="block",alertEmail.style.color="red",t.errorsDictionary.AuthenticatingError&&(alertEmail.innerHTML=t.errorsDictionary.AuthenticatingError,alertpass.innerHTML=t.errorsDictionary.AuthenticatingError,alertpass.style.color="red"),t.errorsDictionary.FormValidationError_Email&&(alertEmail.innerHTML=t.errorsDictionary.FormValidationError_Email)}).catch(e=>console.log(e)))}),allert.addEventListener("click",function(){allert.style.display="none"});const l=document.querySelector("#force");l.addEventListener("click",function(){window.location="register-page.html"});const m=document.querySelector("#force2");m.addEventListener("click",function(){window.sessionStorage.setItem("Go To Ver","Go"),window.location="register-page.html"})}