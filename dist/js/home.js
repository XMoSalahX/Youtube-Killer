fetch("https://localhost:44349/api/Media/HomeData",{method:"GET",headers:{Authorization:"Bearer "+JSON.parse(window.sessionStorage.getItem("Access token")),"Content-type":"application/json; charset=UTF-8"}}).then(e=>e.json()).then(function(c){console.log(c);var e=c.data;if(console.log(e),!1===c.hasError){const r=document.querySelector(".Recent");for(console.log(c.data.Recent.length),i=0;i<c.data.Recent.length;i++){console.log(i);let e=document.createElement("div");e.classList="box",r.appendChild(e);let t=document.createElement("div");t.classList="img",e.appendChild(t);let o=document.createElement("img");o.setAttribute("src",c.data.Recent[i].coverSource),t.appendChild(o);let n=document.createElement("div");n.classList="boxContent",e.appendChild(n);let s=document.createElement("h2");s.innerHTML=c.data.Recent[i].title,s.classList=c.data.Recent[i].id,n.appendChild(s);let a=document.createElement("p");a.innerHTML=c.data.Recent[i].description+"......",n.appendChild(a);let l=document.createElement("div");l.classList="veiws",l.innerHTML="Views: "+c.data.Recent[i].viewsCount,n.appendChild(l)}const d=document.querySelector(".Recommended");for(i=0;i<c.data.Recommended.length;i++){console.log(i);let e=document.createElement("div");e.classList="box",d.appendChild(e);let t=document.createElement("div");t.classList="img",e.appendChild(t);let o=document.createElement("img");o.setAttribute("src",c.data.Recommended[i].coverSource),t.appendChild(o);let n=document.createElement("div");n.classList="boxContent",e.appendChild(n);let s=document.createElement("h2");s.innerHTML=c.data.Recommended[i].title,s.classList=c.data.Recommended[i].id,n.appendChild(s);let a=document.createElement("p");a.innerHTML=c.data.Recommended[i].description+"......",n.appendChild(a);let l=document.createElement("div");l.classList="veiws",l.innerHTML="Views: "+c.data.Recommended[i].viewsCount,n.appendChild(l)}const m=document.querySelector(".Cartoons");for(console.log(c.data.Cartoons.length),i=0;i<c.data.Cartoons.length;i++){console.log(i);let e=document.createElement("div");e.classList="box",m.appendChild(e);let t=document.createElement("div");t.classList="img",e.appendChild(t);let o=document.createElement("img");o.setAttribute("src",c.data.Cartoons[i].coverSource),t.appendChild(o);let n=document.createElement("div");n.classList="boxContent",e.appendChild(n);let s=document.createElement("h2");s.innerHTML=c.data.Cartoons[i].title,s.classList=c.data.Cartoons[i].id,n.appendChild(s);let a=document.createElement("p");a.innerHTML=c.data.Cartoons[i].description+"......",n.appendChild(a);let l=document.createElement("div");l.classList="veiws",l.innerHTML="Views: "+c.data.Cartoons[i].viewsCount,n.appendChild(l)}const u=document.querySelector(".Movies");for(i=0;i<c.data.Movies.length;i++){console.log(i);let e=document.createElement("div");e.classList="box",u.appendChild(e);let t=document.createElement("div");t.classList="img",e.appendChild(t);let o=document.createElement("img");o.setAttribute("src",c.data.Movies[i].coverSource),t.appendChild(o);let n=document.createElement("div");n.classList="boxContent",e.appendChild(n);let s=document.createElement("h2");s.innerHTML=c.data.Movies[i].title,s.classList=c.data.Movies[i].id,n.appendChild(s);let a=document.createElement("p");a.innerHTML=c.data.Movies[i].description+"......",n.appendChild(a);let l=document.createElement("div");l.classList="veiws",l.innerHTML="Views: "+c.data.Movies[i].viewsCount,n.appendChild(l)}const h=document.querySelector(".Series");for(i=0;i<c.data.Series.length;i++){console.log(i);let e=document.createElement("div");e.classList="box",h.appendChild(e);let t=document.createElement("div");t.classList="img",e.appendChild(t);let o=document.createElement("img");o.setAttribute("src",c.data.Series[i].coverSource),t.appendChild(o);let n=document.createElement("div");n.classList="boxContent",e.appendChild(n);let s=document.createElement("h2");s.innerHTML=c.data.Series[i].title,s.classList=c.data.Series[i].id,n.appendChild(s);let a=document.createElement("p");a.innerHTML=c.data.Series[i].description+"......",n.appendChild(a);let l=document.createElement("div");l.classList="veiws",l.innerHTML="Views: "+c.data.Series[i].viewsCount,n.appendChild(l)}}else console.log("Server Error")}),window.onload=function(){window.sessionStorage.getItem("Access token")?console.log("The user is authorized to access the content page"):window.location="login-page.html",window.addEventListener("click",function(t){h2S=document.querySelectorAll("h2"),h2S.forEach(function(e){e===t.target&&(console.log(t.target.classList[0]),fetch(`https://localhost:44349/api/Media/GetSpecificMedia?mediaId=${t.target.classList[0]}&commentsTotalCount=10&repliesTotalCount=10`,{method:"GET",headers:{Authorization:"Bearer "+JSON.parse(window.sessionStorage.getItem("Access token")),"Content-type":"application/json; charset=UTF-8"}}).then(e=>e.json()).then(function(e){console.log(e),!1===e.hasError&&(window.sessionStorage.setItem("Get Post",JSON.stringify(e.data)),window.location="active-vedieo.html")}).catch(e=>console.log(e)))})});const e=document.querySelector(".header-content"),t=Array.from(document.querySelectorAll(".sliderShow img")),o=document.querySelectorAll(".header-content")[2],n=document.querySelectorAll(".header-content")[1],s=document.querySelector(".UserName"),a=document.querySelectorAll(".header-content")[3],l=document.querySelectorAll(".header-content")[4];s.innerHTML="Hi, "+JSON.parse(window.sessionStorage.getItem("Username")),setTimeout(()=>{"firstSection"==window.sessionStorage.getItem("target")?(console.log(window.sessionStorage.getItem("target")),e.scrollIntoView({behavior:"smooth",block:"start"})):"secondSection"==window.sessionStorage.getItem("target")?n.scrollIntoView({behavior:"smooth",block:"start"}):"thirdContent"==window.sessionStorage.getItem("target")?(console.log(window.sessionStorage.getItem("target")),o.scrollIntoView({behavior:"smooth",block:"start"})):"forthContent"==window.sessionStorage.getItem("target")?(console.log(window.sessionStorage.getItem("target")),a.scrollIntoView({behavior:"smooth",block:"start"})):"fithContent"==window.sessionStorage.getItem("target")&&(console.log(window.sessionStorage.getItem("target")),l.scrollIntoView({behavior:"smooth",block:"start"})),setTimeout(()=>{window.sessionStorage.removeItem("target")},2e3)},2e3);var i=1;function c(e,t){e&&t.addEventListener("click",function(){e.scrollIntoView({behavior:"smooth",block:"start"})})}setInterval(()=>{t.forEach(e=>{e.classList.remove("active")}),8<=i&&(i=1),t[i].classList.add("active"),i++},4e3);var r=document.querySelector(".start");c(document.querySelector(".heading"),r);r=document.querySelector("li");c(e,r);r=document.querySelector("li:nth-child(2)");c(n,r);r=document.querySelector("li:nth-child(3)");c(o,r);r=document.querySelector("li:nth-child(4)");c(a,r);r=document.querySelector("li:nth-child(5)");c(l,r);const d=document.querySelector(".Setting"),m=document.querySelector(".blur"),u=document.querySelector(".pop");d.addEventListener("click",function(){m.classList.toggle("enablePop"),m.classList.toggle("enable"),u.classList.toggle("enablePop")}),m.addEventListener("click",function(){m.classList.remove("enablePop"),m.classList.remove("enable"),u.classList.remove("enablePop"),g.classList.toggle("navToggle")});const h=document.querySelectorAll("form button");h[0].addEventListener("click",function(e){e.preventDefault(),m.classList.remove("enablePop"),u.classList.remove("enablePop")}),h[1].addEventListener("click",function(e){e.preventDefault(),m.classList.remove("enablePop"),u.classList.remove("enablePop")});const p=document.querySelector(".Icon"),g=document.querySelector(".navControl");p.addEventListener("click",function(){g.classList.toggle("navToggle"),m.classList.add("enablePop")}),g.addEventListener("click",function(){g.classList.toggle("navToggle"),m.classList.remove("enablePop")});const v=document.querySelector(".change"),w=document.querySelector(".recentChange"),S=document.querySelector(".newPass"),L=document.querySelector(".freezeBtn"),C=document.querySelector(".passNow");var E;document.querySelector("select").value;let y;const b=document.querySelector(".signout");b.addEventListener("click",function(){window.sessionStorage.removeItem("Access token"),window.location="login-page.html"});let f=!1,q=!1,T=!1;function M(e,t){e.addEventListener("input",function(){return""==e.value?(t.innerHTML="Password is empty",!(t.style.color="red")):void(e.value.match(/^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[^\w\s]).{8,}$/)?(t.innerHTML="Great!",t.style.color="#2ad4bc",e===A?f=!0:e===S&&(q=!0),e===P&&(T=!0)):(t.innerHTML="Minimum eight characters, at least one uppercase letter, one lowercase letter, one number and one special character.",t.style.color="red"))})}const A=document.querySelector(".recentChange"),I=document.querySelector(".allertOldPass");M(A,I),console.log(q);r=document.querySelector(".allertNewPass");M(S,r);const P=document.querySelector('input[placeholder="Enter Account Passowrd"]');r=document.querySelector(".allertOlllldPasss");M(P,r);let k;console.log(y,k),L.addEventListener("click",function(e){e.preventDefault(),console.log(T),E=document.querySelector("select").value,!0===T&&(T=!1,"24 Hour"==E?y=1:"1 Week"==E?y=7:"1 Month"==E?y=30:"3 Month"==E?y=90:"6 Month"==E?y=180:"1 Year"==E?y=365:"Forever"==E&&(k=!0),data={},data.password=document.querySelector(".passNow").value,console.log(C.value),!0===k?data.forever=k:data.daysCount=y,console.log(y,k),""!=C&&fetch("https://localhost:44349/api/Account/FreezeAccount",{method:"POST",headers:{Authorization:"Bearer "+JSON.parse(window.sessionStorage.getItem("Access token")),"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify(data)}).then(e=>e.json()).then(function(e){console.log(e),0==e.hasError?(window.sessionStorage.removeItem("Access token"),window.location="login-page.html"):(C.value="",C.setAttribute("placeholder",e.errorsDictionary.FormValidationError_Password))}).catch(e=>console.log(e)))}),v.addEventListener("click",function(e){e.preventDefault(),console.log(f,q),!0===f&&!0===q&&(q=!1,f=!1,console.log("Hllllllo"),data={oldPassword:w.value,newPassword:S.value},""!=data.oldPassword&&""!=data.newPassword&&fetch("https://localhost:44349/api/Account/ChangePassword",{method:"POST",headers:{Authorization:"Bearer "+JSON.parse(window.sessionStorage.getItem("Access token")),"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify(data)}).then(e=>e.json()).then(function(e){console.log(e),0==e.hasError?(v.value="Password changed",setTimeout(()=>{v.value="Submit"},5e3)):"Invalid Credintials!"===e.errorsDictionary.FormValidationError_Password?(I.innerHTML=e.errorsDictionary.FormValidationError_Password,I.style.color="red"):(S.value="",S.setAttribute("placeholder",e.errorsDictionary.FormValidationError_Password))}).catch(e=>console.log(e)))})};