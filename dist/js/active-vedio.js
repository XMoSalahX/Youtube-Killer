!function(i){"use strict";i.fn.fitVids=function(e){var t,o,s={customSelector:null,ignore:null};return document.getElementById("fit-vids-style")||(t=document.head||document.getElementsByTagName("head")[0],(o=document.createElement("div")).innerHTML='<p>x</p><style id="fit-vids-style">.fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}</style>',t.appendChild(o.childNodes[1])),e&&i.extend(s,e),this.each(function(){var e=['iframe[src*="player.vimeo.com"]','iframe[src*="youtube.com"]','iframe[src*="youtube-nocookie.com"]','iframe[src*="kickstarter.com"][src*="video.html"]',"object","embed"];s.customSelector&&e.push(s.customSelector);var n=".fitvidsignore";s.ignore&&(n=n+", "+s.ignore);var e=i(this).find(e.join(","));(e=(e=e.not("object object")).not(n)).each(function(){var e,t,o=i(this);0<o.parents(n).length||"embed"===this.tagName.toLowerCase()&&o.parent("object").length||o.parent(".fluid-width-video-wrapper").length||(o.css("height")||o.css("width")||!isNaN(o.attr("height"))&&!isNaN(o.attr("width"))||(o.attr("height",9),o.attr("width",16)),e=("object"===this.tagName.toLowerCase()||o.attr("height")&&!isNaN(parseInt(o.attr("height"),10))?parseInt(o.attr("height"),10):o.height())/(isNaN(parseInt(o.attr("width"),10))?o.width():parseInt(o.attr("width"),10)),o.attr("name")||(t="fitvid"+i.fn.fitVids._count,o.attr("name",t),i.fn.fitVids._count++),o.wrap('<div class="fluid-width-video-wrapper"></div>').parent(".fluid-width-video-wrapper").css("padding-top",100*e+"%"),o.removeAttr("height").removeAttr("width"))})})},i.fn.fitVids._count=0}(window.jQuery||window.Zepto),window.addEventListener("click",function(e){}),window.sessionStorage.getItem("Access token")?console.log("Success"):window.location="login-page.html",window.sessionStorage.getItem("Get Post")&&document.querySelector(".heading").scrollIntoView({behavior:"smooth",block:"start"}),$(document).ready(function(){$(".ifram").fitVids()});const firstSecion=document.querySelector("ul li");firstSecion.addEventListener("click",function(){window.sessionStorage.setItem("target","firstSection"),window.location="home-page.html"});const secondSection=document.querySelector("li:nth-child(2)");secondSection.addEventListener("click",function(){window.sessionStorage.setItem("target","secondSection"),window.location="home-page.html"});const thirdSection=document.querySelector("li:nth-child(3)");thirdSection.addEventListener("click",function(){window.sessionStorage.setItem("target","thirdContent"),window.location="home-page.html"});const forthSection=document.querySelector("li:nth-child(4)");forthSection.addEventListener("click",function(){window.sessionStorage.setItem("target","forthContent"),window.location="home-page.html"});const fifthSection=document.querySelector("li:nth-child(5)");fifthSection.addEventListener("click",function(){window.sessionStorage.setItem("target","fithContent"),window.location="home-page.html"});let reload=!1;console.log(JSON.parse(window.sessionStorage.getItem("Get Post")).mediaItem.mediaId),fetch(`https://localhost:44349/api/Media/GetSpecificMedia?mediaId=${JSON.parse(window.sessionStorage.getItem("Get Post")).mediaItem.mediaId}&commentsTotalCount=10&repliesTotalCount=10`,{method:"GET",headers:{Authorization:"Bearer "+JSON.parse(window.sessionStorage.getItem("Access token")),"Content-type":"application/json; charset=UTF-8"}}).then(e=>e.json()).then(function(e){console.log(e),window.sessionStorage.removeItem("Get Post"),window.sessionStorage.setItem("Get Post",JSON.stringify(e.data)),reload=!0,start()});var videoData=JSON.parse(sessionStorage.getItem("Get Post"));const videoHolder=document.querySelector(".vedioHolder");function start(){videoData=JSON.parse(sessionStorage.getItem("Get Post"));const t=document.querySelector(".like"),o=document.querySelector(".disLike");1===videoData.mediaItem.react?t.style.color="#2ad4bc":2===videoData.mediaItem.react&&(o.style.color="#2ad4bc"),t.addEventListener("click",function(){t.style.color="#2ad4bc",o.style.color="black";let e={};e.mediaId=videoData.mediaItem.mediaId,e.reactTypeId=1,fetch("https://localhost:44349/api/Media/AddOrRemoveMediaReact",{method:"POST",headers:{Authorization:"Bearer "+JSON.parse(window.sessionStorage.getItem("Access token")),"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify(e)}).then(e=>e.json()).then(function(e){console.log(e)}).catch(e=>console.log(e))}),o.addEventListener("click",function(){o.style.color="#2ad4bc",t.style.color="black";let e={};e.mediaId=videoData.mediaItem.mediaId,e.reactTypeId=2,fetch("https://localhost:44349/api/Media/AddOrRemoveMediaReact",{method:"POST",headers:{Authorization:"Bearer "+JSON.parse(window.sessionStorage.getItem("Access token")),"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify(e)}).then(e=>e.json()).then(function(e){console.log(e)}).catch(e=>console.log(e))});const r=document.querySelector(".boxContainer");for(i=0;i<videoData.suggestedMedia.length;i++){console.log(i);let e=document.createElement("div");e.classList="box",r.appendChild(e);let t=document.createElement("div");t.classList="img",e.appendChild(t);let o=document.createElement("img");o.setAttribute("src",videoData.suggestedMedia[i].coverSource),t.appendChild(o);let n=document.createElement("div");n.classList="boxContent",e.appendChild(n);let s=document.createElement("h2");s.innerHTML=videoData.suggestedMedia[i].title,s.classList=videoData.suggestedMedia[i].id,n.appendChild(s);let a=document.createElement("p");a.innerHTML=videoData.suggestedMedia[i].description+".......",n.appendChild(a);let c=document.createElement("div");c.classList="veiws",c.innerHTML="Views: "+videoData.suggestedMedia[i].viewsCount,c.style.textAlign="right",c.style.color="#2ad4bc",c.style.marginBlock="10px",n.appendChild(c)}window.addEventListener("click",function(a){h2S=document.querySelectorAll(".box h2"),h2S.forEach(function(e){e===a.target&&(console.log(a.target.classList[0]),fetch(`https://localhost:44349/api/Media/GetSpecificMedia?mediaId=${a.target.classList[0]}&commentsTotalCount=10&repliesTotalCount=10`,{method:"GET",headers:{Authorization:"Bearer "+JSON.parse(window.sessionStorage.getItem("Access token")),"Content-type":"application/json; charset=UTF-8"}}).then(e=>e.json()).then(function(e){console.log(e),!1===e.hasError&&(window.sessionStorage.setItem("Get Post",JSON.stringify(e.data)),window.location="active-vedieo.html")}).catch(e=>console.log(e)))});let e=document.querySelectorAll("button.Edit");e.forEach(function(e){if(a.target===e){console.log(e.classList[1]);const t=document.querySelector("textarea."+a.target.classList[1]);console.log(document.querySelector("textarea."+a.target.classList[1])),t.removeAttribute("disabled"),t.style.backgroundColor="#d1e7dd";const o=document.querySelector(".userAndComment."+e.classList[1]);o.style.backgroundColor="#d1e7dd",console.log(a.target),a.target.style.display="none";const n=document.querySelector(".submit."+e.classList[1]);n.style.display="block"}});let t=document.querySelectorAll("button.submit");t.forEach(function(t){if(a.target===t){console.log("textarea."+t.classList[1]);const o=document.querySelector("textarea."+t.classList[1]);o.setAttribute("disabled",""),o.style.backgroundColor="#EEE";const n=document.querySelector(".userAndComment."+a.target.classList[1]);n.style.backgroundColor="#EEE";let e={};e.commentId=t.classList[1].substring(2),e.commentText=o.value,fetch("https://localhost:44349/api/Media/EditMediaComment",{method:"POST",headers:{Authorization:"Bearer "+JSON.parse(window.sessionStorage.getItem("Access token")),"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify(e)}).then(e=>e.json()).then(function(e){console.log(e)});const s=document.querySelector(".submit."+t.classList[1]);s.style.display="none";const i=document.querySelector(".Edit."+t.classList[1]);i.style.display="block"}})});const e=document.querySelector(".addCommentNow");let n=!0;e.addEventListener("click",function(){n&&(e.innerHTML="",n=!1)});const s=document.querySelector(".commentBox");for(i=0;i<videoData.mediaItem.comments.length;i++){const c=document.createElement("div");c.classList="buttonControl",s.prepend(c);const l=document.createElement("button");if(l.classList="replay id"+videoData.mediaItem.comments[i].commentId,c.append(l),l.innerHTML="Reply",videoData.mediaItem.comments[i].isCurrenctUser){const S=document.createElement("button");S.classList="Edit id"+videoData.mediaItem.comments[i].commentId,S.innerHTML="Edit",c.appendChild(S)}const d=document.createElement("button");d.classList="submit id"+videoData.mediaItem.comments[i].commentId,d.innerHTML="Submit",c.appendChild(d),d.style.display="none";const m=document.createElement("div");s.prepend(m),m.classList="userAndComment id"+videoData.mediaItem.comments[i].commentId;const u=document.createElement("div");u.classList="userData",m.append(u);const h=document.createElement("div");h.classList="img",u.append(h),h.innerHTML='<img src="images/User.jpg" alt="User Image"></div>';const g=document.createElement("div");g.classList="controlUserData",u.append(g);const p=document.createElement("div");p.classList="UserName",p.innerHTML=videoData.mediaItem.comments[i].commenterName,g.append(p);const v=document.createElement("div");v.classList="date",v.innerHTML=videoData.mediaItem.comments[i].commentCreationTime,g.append(v);const w=document.createElement("textarea");w.classList="id"+videoData.mediaItem.comments[i].commentId,m.append(w),w.setAttribute("disabled",""),w.innerHTML=videoData.mediaItem.comments[i].commentText}const a=document.querySelector(".submitComment");a.addEventListener("click",function(){data={},data.mediaId=videoData.mediaItem.mediaId,data.commentText=e.value,"Please Write your Comment on This Video "!=e.value&&""!=e.value&&fetch("https://localhost:44349/api/Media/AddMediaComment",{method:"POST",headers:{Authorization:"Bearer "+JSON.parse(window.sessionStorage.getItem("Access token")),"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify(data)}).then(e=>e.json()).then(function(e){console.log(e);const t=document.createElement("div");t.style.marginBottom="10px",t.classList="userAndComment";const o=document.createElement("div");o.classList=".buttonControl",s.prepend(o),o.classList="buttonControl",o.innerHTML=`
                        <button class="replay">Reply </button>
                        <button class="Edit">Edit</button>
                        <button class="submit" style="display:none">Submit</button>`,s.prepend(t);const n=new Date;t.innerHTML=`<div class="userData">
                        <div class="img"> <img src="images/User.jpg" alt="User Image"></div>
                        <div class="controlUserData">
                            <div class="UserName">${JSON.parse(window.sessionStorage.getItem("Username"))}</div>
                            <div class="date">${n.getDay()+"/"+(n.getMonth()+1)+"/"+n.getFullYear()}</div>
                        </div>
                        </div>
                        <textarea id="w3review" disabled>${data.commentText}</textarea>
                    </div>
                    `}).catch(e=>console.log(e))}),setTimeout(function(){document.querySelector(".st-cmp-settings").style.display="none"},1500)}videoHolder.innerHTML=`<div class="ifram">
    <iframe src="${videoData.mediaItem.source}" height= "180%" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
    </div>
    <div class="controler">
    <h2 class="vedioTitle">${videoData.mediaItem.title}</h2>
    <div class="reaction"> 
      <div class="like"> <i class="far fa-thumbs-up"></i> Like</div>
      <div class="disLike"> <i class="far fa-thumbs-down"></i> DisLike</div>
      <div class="share"> <i class="far fa-share-square"></i> Share</div>
      
    </div>
    
    </div>
    <div class="sharethis-inline-share-buttons" style="margin-bottom:20px"></div> 
    <div class="describtion"> 
    <p class="desc">${videoData.mediaItem.description}</p><span class="timeOfPublish">${videoData.mediaItem.createdAt}</span>
    </div>`,document.querySelector(".sharethis-inline-share-buttons").style.visibility="hidden";const share=document.querySelector(".share");share.addEventListener("click",function(){document.querySelector(".sharethis-inline-share-buttons").style.visibility="visible"}),window.onload=function(){window.sessionStorage.getItem("Access token")?console.log("The user is authorized to access the content page"):window.location="login-page.html",window.addEventListener("click",function(t){h2S=document.querySelectorAll("h2"),h2S.forEach(function(e){e===t.target&&(console.log(t.target.classList[0]),fetch(`https://localhost:44349/api/Media/GetSpecificMedia?mediaId=${t.target.classList[0]}&commentsTotalCount=10&repliesTotalCount=10`,{method:"GET",headers:{Authorization:"Bearer "+JSON.parse(window.sessionStorage.getItem("Access token")),"Content-type":"application/json; charset=UTF-8"}}).then(e=>e.json()).then(function(e){console.log(e),!1===e.hasError&&(window.sessionStorage.setItem("Get Post",JSON.stringify(e.data)),window.location="active-vedieo.html")}).catch(e=>console.log(e)))})});const e=document.querySelector(".header-content"),t=Array.from(document.querySelectorAll(".sliderShow img")),o=document.querySelectorAll(".header-content")[2],n=document.querySelectorAll(".header-content")[1],s=document.querySelector(".UserName"),i=document.querySelectorAll(".header-content")[3],a=document.querySelectorAll(".header-content")[4];s.innerHTML="Hi, "+JSON.parse(window.sessionStorage.getItem("Username")),setTimeout(()=>{"firstSection"==window.sessionStorage.getItem("target")?(console.log(window.sessionStorage.getItem("target")),e.scrollIntoView({behavior:"smooth",block:"start"})):"secondSection"==window.sessionStorage.getItem("target")?n.scrollIntoView({behavior:"smooth",block:"start"}):"thirdContent"==window.sessionStorage.getItem("target")?(console.log(window.sessionStorage.getItem("target")),o.scrollIntoView({behavior:"smooth",block:"start"})):"forthContent"==window.sessionStorage.getItem("target")?(console.log(window.sessionStorage.getItem("target")),i.scrollIntoView({behavior:"smooth",block:"start"})):"fithContent"==window.sessionStorage.getItem("target")&&(console.log(window.sessionStorage.getItem("target")),a.scrollIntoView({behavior:"smooth",block:"start"})),setTimeout(()=>{window.sessionStorage.removeItem("target")},2e3)},2e3);var c=1;function r(e,t){e&&t.addEventListener("click",function(){e.scrollIntoView({behavior:"smooth",block:"start"})})}setInterval(()=>{t.forEach(e=>{e.classList.remove("active")}),8<=c&&(c=1),t[c].classList.add("active"),c++},4e3);var l=document.querySelector(".start");r(document.querySelector(".heading"),l);l=document.querySelector("li");r(e,l);l=document.querySelector("li:nth-child(2)");r(n,l);l=document.querySelector("li:nth-child(3)");r(o,l);l=document.querySelector("li:nth-child(4)");r(i,l);l=document.querySelector("li:nth-child(5)");r(a,l);const d=document.querySelector(".Setting"),m=document.querySelector(".blur"),u=document.querySelector(".pop");d.addEventListener("click",function(){m.classList.toggle("enablePop"),m.classList.toggle("enable"),u.classList.toggle("enablePop")}),m.addEventListener("click",function(){m.classList.remove("enablePop"),m.classList.remove("enable"),u.classList.remove("enablePop"),p.classList.toggle("navToggle")});const h=document.querySelectorAll("form button");h[0].addEventListener("click",function(e){e.preventDefault(),m.classList.remove("enablePop"),u.classList.remove("enablePop")}),h[1].addEventListener("click",function(e){e.preventDefault(),m.classList.remove("enablePop"),u.classList.remove("enablePop")});const g=document.querySelector(".Icon"),p=document.querySelector(".navControl");g.addEventListener("click",function(){p.classList.toggle("navToggle"),m.classList.add("enablePop")}),p.addEventListener("click",function(){p.classList.toggle("navToggle"),m.classList.remove("enablePop")});const v=document.querySelector(".change"),w=document.querySelector(".recentChange"),S=document.querySelector(".newPass"),y=document.querySelector(".freezeBtn"),f=document.querySelector(".passNow");var b;document.querySelector("select").value;let L;const I=document.querySelector(".signout");I.addEventListener("click",function(){window.sessionStorage.removeItem("Access token"),window.location="login-page.html"});let E=!1,q=!1,T=!1;function k(e,t){e.addEventListener("input",function(){return""==e.value?(t.innerHTML="Password is empty",!(t.style.color="red")):void(e.value.match(/^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[^\w\s]).{8,}$/)?(t.innerHTML="Great!",t.style.color="#2ad4bc",e===C?E=!0:e===S&&(q=!0),e===M&&(T=!0)):(t.innerHTML="Minimum eight characters, at least one uppercase letter, one lowercase letter, one number and one special character.",t.style.color="red"))})}const C=document.querySelector(".recentChange"),A=document.querySelector(".allertOldPass");k(C,A),console.log(q);l=document.querySelector(".allertNewPass");k(S,l);const M=document.querySelector('input[placeholder="Enter Account Passowrd"]');l=document.querySelector(".allertOlllldPasss");k(M,l);let N;console.log(L,N),y.addEventListener("click",function(e){e.preventDefault(),console.log(T),b=document.querySelector("select").value,!0===T&&(T=!1,"24 Hour"==b?L=1:"1 Week"==b?L=7:"1 Month"==b?L=30:"3 Month"==b?L=90:"6 Month"==b?L=180:"1 Year"==b?L=365:"Forever"==b&&(N=!0),data={},data.password=document.querySelector(".passNow").value,console.log(f.value),!0===N?data.forever=N:data.daysCount=L,console.log(L,N),""!=f&&fetch("https://localhost:44349/api/Account/FreezeAccount",{method:"POST",headers:{Authorization:"Bearer "+JSON.parse(window.sessionStorage.getItem("Access token")),"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify(data)}).then(e=>e.json()).then(function(e){console.log(e),0==e.hasError?(window.sessionStorage.removeItem("Access token"),window.location="login-page.html"):(f.value="",f.setAttribute("placeholder",e.errorsDictionary.FormValidationError_Password))}).catch(e=>console.log(e)))}),v.addEventListener("click",function(e){e.preventDefault(),console.log(E,q),!0===E&&!0===q&&(q=!1,E=!1,console.log("Hllllllo"),data={oldPassword:w.value,newPassword:S.value},""!=data.oldPassword&&""!=data.newPassword&&fetch("https://localhost:44349/api/Account/ChangePassword",{method:"POST",headers:{Authorization:"Bearer "+JSON.parse(window.sessionStorage.getItem("Access token")),"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify(data)}).then(e=>e.json()).then(function(e){console.log(e),0==e.hasError?(v.value="Password changed",setTimeout(()=>{v.value="Submit"},5e3)):"Invalid Credintials!"===e.errorsDictionary.FormValidationError_Password?(A.innerHTML=e.errorsDictionary.FormValidationError_Password,A.style.color="red"):(S.value="",S.setAttribute("placeholder",e.errorsDictionary.FormValidationError_Password))}).catch(e=>console.log(e)))})};